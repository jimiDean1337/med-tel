<section #cartSection class="cart bgwhite p-t-70 p-b-100" id="cartSection" *ngIf="cart">
  <div class="container">
    <div class="pt-4">
      <div class="text-center p-5 m-auto" [hidden]="items">
        <h4 class="text-bold">No ITems In Cart!</h4>
        <button class="btn btn-primary mt-1" (click)="navigateTo('/store')">
          Go to store
        </button>
      </div>

      <div class="col-md-6 order-md-2 m-auto" *ngIf="items">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Your cart</span>
          <span class="badge badge-secondary badge-pill">{{items?.length || 0}}</span>
        </h4>
        <ul class="list-group mb-3">
          <li class="list-group-item d-flex justify-content-between align-items-center  lh-condensed"
            *ngFor="let item of items; let i = index;">
            <img [src]="item?.imgUrl" alt="" [width]="80" class="img-thumbnail img-fluid">
            <div class="pull-left">
              <h6 class="my-0">{{item?.productName}}</h6>
              <small class="text-muted">{{item?.caption}}</small>
            </div>
            <!-- <button class="btn-num-product-down color1 flex-c-m size7 bg8 eff2" (click)="decreaseQuantity(i)">
										<i class="fs-12 fa fa-minus" aria-hidden="true"></i>
									</button>

									<span class="pt-2 size8 m-text18 t-center num-product">{{item?.options.quantity}}</span>

									<button class="btn-num-product-up color1 flex-c-m size7 bg8 eff2" (click)="increaseQuantity(i)">
										<i class="fs-12 fa fa-plus" aria-hidden="true"></i>
									</button> -->
            <span class="text-muted pt-4">${{item?.price}}</span>
            <button class="btn btn-link btn-sm p-0" (click)="removeItemFromCart(userId, item)"><i
                class="fa fa-trash"></i></button>
          </li>
          <li class="list-group-item d-flex justify-content-between bg-light" *ngIf="couponUsed && couponValid">
            <div class="text-success">
              <h6 class="my-0">Promo code</h6>
              <small>{{cart?.coupon?.couponCode}}</small>
            </div>
            <span class="text-success">-${{cart?.coupon?.discountAmount}}</span>
          </li>
        </ul>

        <form class="card p-0">
          <div class="input-group">
            <input #coupon type="text" class="form-control" placeholder="Promo code">
            <div class="input-group-addon">
              <button [hidden]="couponUsed" (click)="applyCoupon(coupon.value)"
                style="border-radius: 0;" class="btn btn-primary">Redeem</button>
              <button *ngIf="coupon.value && couponUsed" class="btn btn-secondary"
                style="border-radius: 0;" (click)="removeCoupon(coupon)">
                Remove
              </button>
            </div>
          </div>
        </form>
        <div [hidden]="!couponUsed || couponUsed && couponValid"
          class="card-body text-center text-light bg-dark p-2 mt-1 fadeInDown animate">Invalid Coupon Code! Check
          spelling or enter a new code <br />
          <button class="btn btn-outline-danger" (click)="removeCoupon(coupon)">Remove Coupon</button>
        </div>
      </div>
    </div>

    <div *ngIf="items" class="col-md-6 order-md-2 m-auto pt-4">
      <h4 class="d-flex justify-content-between align-items-end mb-3">
        <span class="text-muted">Cart Totals</span>
      </h4>

      <div class="flex-w flex-sb-m p-b-12">
        <span class="s-text18 w-size19 w-full-sm">
          Subtotal:
        </span>

        <span [hidden]="couponUsed" class="m-text21 w-full-sm">
          {{getCartSubtotal(items) | currency}}
        </span>
        <span [hidden]="!couponUsed && !couponValid" class="m-text21 w-full-sm" *ngIf="cart?.coupon?.couponCode">
          {{getDiscountTotal(cart?.coupon?.couponCode) | currency}}&nbsp; Discounted {{cart?.coupon?.amountDiscounted}}
        </span>
      </div>
      <div class="d-flex">
        <button [disabled]="subtotal === 0" class="m-1 btn btn-outline-primary col-md-6 col-sm-12"
          (click)="navigateTo('/checkout')">
          Checkout
        </button>
        <button class="m-1 btn btn-secondary col-md-6 col-sm-12" (click)="navigateTo('/store')">
          Shop
        </button>
      </div>
    </div>
  </div>
</section>